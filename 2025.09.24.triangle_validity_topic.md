# CHUYÊN ĐỀ: KIỂM TRA TÍNH HỢP LỆ CỦA TAM GIÁC

## 1. MỤC TIÊU HỌC TẬP

Sau khi hoàn thành chuyên đề này, học sinh sẽ có thể:
- Hiểu và áp dụng định lý bất đẳng thức tam giác
- Viết chương trình kiểm tra tính hợp lệ của tam giác khi biết 3 cạnh
- Phân tích độ phức tạp thuật toán và tối ưu hóa code
- Áp dụng kiến thức vào các bài toán hình học thực tế

## 2. CƠ SỞ LÝ THUYẾT

### 2.1. Định lý bất đẳng thức tam giác
Một tam giác được coi là **hợp lệ** (có thể vẽ được) khi và chỉ khi tổng độ dài của hai cạnh bất kỳ luôn **lớn hơn** độ dài cạnh còn lại.

**Biểu thức toán học:**
Cho tam giác có 3 cạnh a, b, c, tam giác hợp lệ khi:
```
(a + b) > c  VÀ
(a + c) > b  VÀ  
(b + c) > a
```

### 2.2. Giải thích trực quan
![Triangle validity check](https://media.geeksforgeeks.org/wp-content/uploads/check-whether-triangle-valid-not-sides-given1.jpg)

**Tại sao cần điều kiện này?**
- Nếu một cạnh quá dài so với tổng hai cạnh kia, ta không thể "khép kín" để tạo thành tam giác
- Ví dụ: với a=1, b=2, c=5 → không thể tạo tam giác vì 1+2 < 5

### 2.3. Các trường hợp đặc biệt
- **Tam giác suy biến**: Khi tổng hai cạnh **bằng** cạnh thứ ba → tạo thành đoạn thẳng
- **Tam giác hợp lệ**: Khi tổng hai cạnh **lớn hơn** cạnh thứ ba

## 3. CÁC VÍ DỤ MINH HỌA

### Ví dụ 1: Tam giác hợp lệ
**Input:** a = 7, b = 10, c = 5
**Kiểm tra:**
- a + b = 7 + 10 = 17 > 5 ✓
- a + c = 7 + 5 = 12 > 10 ✓  
- b + c = 10 + 5 = 15 > 7 ✓

**Output:** Valid (Hợp lệ)

### Ví dụ 2: Tam giác không hợp lệ
**Input:** a = 1, b = 10, c = 12
**Kiểm tra:**
- a + b = 1 + 10 = 11 < 12 ✗
- a + c = 1 + 12 = 13 > 10 ✓
- b + c = 10 + 12 = 22 > 1 ✓

**Output:** Invalid (Không hợp lệ)

## 4. HIỆN THỰC THUẬT TOÁN

### 4.1. Thuật toán tổng quát
```
INPUT: a, b, c (độ dài 3 cạnh)
BEGIN
    IF (a + b > c) AND (a + c > b) AND (b + c > a) THEN
        RETURN "Valid"
    ELSE
        RETURN "Invalid"
    END IF
END
```

### 4.2. Code C++
```cpp
#include <bits/stdc++.h>
using namespace std;

// Hàm kiểm tra tính hợp lệ của tam giác
bool checkValidity(int a, int b, int c)
{
    // Kiểm tra điều kiện bất đẳng thức tam giác
    if (a + b <= c || a + c <= b || b + c <= a)
        return false;
    else
        return true;
}

// Chương trình chính
int main()
{
    // Test với các ví dụ
    cout << "=== KIỂM TRA TÍNH HỢP LỆ TAM GIÁC ===\n";
    
    // Ví dụ 1: Tam giác hợp lệ
    int a1 = 7, b1 = 10, c1 = 5;
    cout << "Ví dụ 1: a=" << a1 << ", b=" << b1 << ", c=" << c1 << " -> ";
    if (checkValidity(a1, b1, c1))
        cout << "Valid (Hợp lệ)\n";
    else
        cout << "Invalid (Không hợp lệ)\n";
    
    // Ví dụ 2: Tam giác không hợp lệ  
    int a2 = 1, b2 = 10, c2 = 12;
    cout << "Ví dụ 2: a=" << a2 << ", b=" << b2 << ", c=" << c2 << " -> ";
    if (checkValidity(a2, b2, c2))
        cout << "Valid (Hợp lệ)\n";
    else
        cout << "Invalid (Không hợp lệ)\n";
    
    // Nhập từ người dùng
    int a, b, c;
    cout << "\nNhập độ dài 3 cạnh tam giác:\n";
    cout << "Cạnh a: "; cin >> a;
    cout << "Cạnh b: "; cin >> b;
    cout << "Cạnh c: "; cin >> c;
    
    if (checkValidity(a, b, c))
        cout << "Tam giác với 3 cạnh (" << a << ", " << b << ", " << c << ") là HỢP LỆ\n";
    else
        cout << "Tam giác với 3 cạnh (" << a << ", " << b << ", " << c << ") là KHÔNG HỢP LỆ\n";
    
    return 0;
}
```

### 4.3. Code Python
```python
# Hàm kiểm tra tính hợp lệ của tam giác
def checkValidity(a, b, c):
    """
    Kiểm tra 3 cạnh có tạo thành tam giác hợp lệ hay không
    
    Args:
        a, b, c: Độ dài 3 cạnh tam giác
    
    Returns:
        True nếu tam giác hợp lệ, False nếu không
    """
    # Kiểm tra điều kiện bất đẳng thức tam giác
    if (a + b <= c) or (a + c <= b) or (b + c <= a):
        return False
    else:
        return True

# Test với các ví dụ
print("=== KIỂM TRA TÍNH HỢP LỆ TAM GIÁC ===")

# Ví dụ 1: Tam giác hợp lệ
a1, b1, c1 = 7, 10, 5
print(f"Ví dụ 1: a={a1}, b={b1}, c={c1} -> ", end="")
if checkValidity(a1, b1, c1):
    print("Valid (Hợp lệ)")
else:
    print("Invalid (Không hợp lệ)")

# Ví dụ 2: Tam giác không hợp lệ
a2, b2, c2 = 1, 10, 12
print(f"Ví dụ 2: a={a2}, b={b2}, c={c2} -> ", end="")
if checkValidity(a2, b2, c2):
    print("Valid (Hợp lệ)")
else:
    print("Invalid (Không hợp lệ)")

# Nhập từ người dùng
print("\nNhập độ dài 3 cạnh tam giác:")
try:
    a = int(input("Cạnh a: "))
    b = int(input("Cạnh b: "))  
    c = int(input("Cạnh c: "))
    
    if checkValidity(a, b, c):
        print(f"Tam giác với 3 cạnh ({a}, {b}, {c}) là HỢP LỆ")
    else:
        print(f"Tam giác với 3 cạnh ({a}, {b}, {c}) là KHÔNG HỢP LỆ")
        
    # Hiển thị chi tiết kiểm tra
    print("\nChi tiết kiểm tra:")
    print(f"  {a} + {b} = {a+b} {'>' if a+b > c else '<='} {c}")
    print(f"  {a} + {c} = {a+c} {'>' if a+c > b else '<='} {b}")
    print(f"  {b} + {c} = {b+c} {'>' if b+c > a else '<='} {a}")
    
except ValueError:
    print("Vui lòng nhập số nguyên hợp lệ!")
```

## 5. PHÂN TÍCH ĐỘ PHỨC TẠP

- **Độ phức tạp thời gian:** O(1) - Chỉ cần 3 phép so sánh
- **Độ phức tạp không gian:** O(1) - Không sử dụng bộ nhớ phụ
- **Tính ổn định:** Thuật toán luôn cho kết quả chính xác với input hợp lệ

## 6. CÁC LƯU Ý KỸ THUẬT

### 6.1. Xử lý trường hợp đặc biệt
```cpp
bool isValidTriangle(double a, double b, double c) {
    // Kiểm tra input âm hoặc bằng 0
    if (a <= 0 || b <= 0 || c <= 0) {
        return false;
    }
    
    // Kiểm tra bất đẳng thức tam giác
    return (a + b > c) && (a + c > b) && (b + c > a);
}
```

### 6.2. Tối ưu hóa thuật toán
```cpp
bool checkValidityOptimized(int a, int b, int c) {
    // Sắp xếp để a <= b <= c
    if (a > b) swap(a, b);
    if (b > c) swap(b, c);
    if (a > b) swap(a, b);
    
    // Chỉ cần kiểm tra điều kiện quan trọng nhất
    return a + b > c;
}
```

### 6.3. Xử lý số thực
```python
def isValidTriangleFloat(a, b, c, epsilon=1e-9):
    """Kiểm tra tam giác với độ chính xác số thực"""
    if a <= epsilon or b <= epsilon or c <= epsilon:
        return False
    
    return (a + b > c + epsilon and 
            a + c > b + epsilon and 
            b + c > a + epsilon)
```

## 7. BÀI TẬP THỰC HÀNH

### Bài tập 1: Cơ bản
Viết chương trình nhập n bộ 3 cạnh và đếm có bao nhiêu tam giác hợp lệ.

### Bài tập 2: Phân loại tam giác
Mở rộng chương trình để phân loại tam giác thành: đều, cân, vuông, thường.

### Bài tập 3: Tối ưu hóa
Tìm cách tối ưu thuật toán khi chỉ cần kiểm tra 1 điều kiện thay vì 3.

### Bài tập 4: Ứng dụng
Cho n điểm trên mặt phẳng, đếm có bao nhiêu bộ 3 điểm tạo thành tam giác hợp lệ.

## 8. MỞ RỘNG VÀ ỨNG DỤNG

### 8.1. Các loại tam giác đặc biệt
```cpp
string classifyTriangle(int a, int b, int c) {
    if (!checkValidity(a, b, c)) {
        return "Invalid";
    }
    
    if (a == b && b == c) {
        return "Equilateral"; // Đều
    } else if (a == b || b == c || a == c) {
        return "Isosceles"; // Cân
    } else if (a*a + b*b == c*c || a*a + c*c == b*b || b*b + c*c == a*a) {
        return "Right"; // Vuông
    } else {
        return "Scalene"; // Thường
    }
}
```

### 8.2. Ứng dụng thực tế
- **Computer Graphics:** Validation mesh triangles trong 3D modeling
- **Game Development:** Collision detection với tam giác
- **Architecture:** Kiểm tra tính ổn định của kết cấu tam giác
- **Navigation:** Triangulation trong GPS và bản đồ
- **Engineering:** Phân tích độ bền khung tam giác

### 8.3. Thuật toán nâng cao
```cpp
// Kiểm tra tam giác trong không gian 3D
bool isValidTriangle3D(Point3D A, Point3D B, Point3D C) {
    double a = distance(B, C);
    double b = distance(A, C);
    double c = distance(A, B);
    
    return (a + b > c) && (a + c > b) && (b + c > a);
}
```

## 9. BẢNG THAM KHẢO NHANH

| Trường hợp | a | b | c | a+b>c | a+c>b | b+c>a | Kết quả |
|------------|---|---|---|-------|-------|-------|---------|
| Hợp lệ     | 3 | 4 | 5 | ✓     | ✓     | ✓     | Valid   |
| Không hợp lệ| 1 | 2 | 5 | ✗     | ✓     | ✓     | Invalid |
| Suy biến   | 1 | 2 | 3 | =     | ✓     | ✓     | Invalid |
| Âm/Zero    | 0 | 4 | 5 | -     | -     | -     | Invalid |

## 10. KẾT LUẬN

Bài toán kiểm tra tính hợp lệ của tam giác là một ví dụ điển hình về:
- **Áp dụng định lý hình học** vào lập trình
- **Thuật toán đơn giản** nhưng hiệu quả O(1)
- **Tư duy logic** trong xử lý điều kiện
- **Nền tảng** cho các bài toán hình học phức tạp hơn

Đây là kiến thức cơ bản quan trọng trong computational geometry và có nhiều ứng dụng thực tế trong các lĩnh vực như graphics, game development, và engineering.